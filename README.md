# 弾道プログラミングシューター (Bullet Programming Shooter)

[![GitHub Pages](https://img.shields.io/badge/GitHub%20Pages-Live%20Demo-green.svg)](https://ma-saan.github.io/Bullet-Programming-Shooter/)
[![Custom Sprites](https://img.shields.io/badge/Custom%20Sprites-PNG%20Ready-blue.svg)](#custom-png-sprites)

🚀 プレイヤーが弾丸の挙動をRPAでプログラミングして敵を倒すシューティングゲーム！

![Game Screenshot](https://via.placeholder.com/800x400/000011/ffffff?text=Bullet+Programming+Shooter)

## 🎮 ゲーム概要

### コアコンセプト
- **機体操作**: WASDで移動（シンプル）
- **弾丸制御**: RPAで挙動をプログラミング（メイン要素）

### ✨ 新機能 - カスタムPNGスプライト対応
🎨 **カスタムPNGスプライトが実装されました！**
- `Player.png` - カスタムプレイヤースプライト
- `Enemy1.png` - カスタム敵スプライト  
- `Ballet.png` & `Ballet2.png` - カスタム弾丸スプライト

ゲームは自動的にPNG画像を検出し、利用可能な場合は使用します。画像がない場合は美しい生成スプライトにフォールバックします。

### 特徴
- **4種類のノード** (PROPERTY/WHEN/IF/DO) で無限の組み合わせ
- 視覚的に分かりやすいプログラミング体験
- 段階的な学習カーブ
- 同じステージでも様々な解法
- **リアルタイムビジュアルエフェクト** - 爆発、パーティクル、グロー効果
- **インテリジェントなフォールバックシステム** - PNG/生成スプライト両対応

## 🕹️ 操作方法

| キー | 操作 |
|------|------|
| W/A/S/D | プレイヤー移動 |
| スペース | 弾丸発射 |
| 🔧 RPA編集ボタン | RPAエディターを開く |

## 🤖 RPAノードシステム

### 🔮 PROPERTY（属性）
弾丸の基本的な性質を定める新しいノードタイプ
- `[ホーミング]` - 最も近い敵を追尾する
- `[貫通]` - 敵を通り抜ける
- `[高威力]` - ダメージ2倍
- `[継続ダメージ]` - 敵に毒効果を付与
- `[磁力効果]` - 近くの敵を引き寄せる
- `[シールド貫通]` - 特殊な敵の防御を無視
- `[時間遅延]` - 当たった敵の動きを遅くする

### ⏰ WHEN（いつ）
- `[即座に]` - すぐに次の処理を実行
- `[1秒後]` `[2秒後]` - 指定時間後に実行
- `[敵に接触時]` - 敵に当たった時に実行
- `[壁に接触時]` - 画面端や障害物に当たった時に実行

### 🤔 IF（もし）
- `[敵が近い]` `[敵が遠い]` - 敵との距離による条件分岐
- `[敵が3体以上]` - 敵の数による条件分岐
- `[敵がいない]` - 敵がいない場合の条件

### ⚡ DO（実行）
- `[分裂する]` - 弾丸が複数に分かれる
- `[爆発する]` - 範囲攻撃を行う
- `[跳ね返る]` - 壁で反射する
- `[速くなる]` - 速度変更
- `[消える]` - 弾丸を消去

## 📚 プログラム例

### 初級
```
時限爆弾： [2秒後] → [爆発する]
跳弾：     [壁に接触時] → [跳ね返る]
```

### 中級
```
賢い分裂弾： [1秒後] → [敵が3体以上] → [分裂する]
近接爆発：   [敵に接触時] → [敵が近い] → [爆発する]
```

### 上級（属性ノード使用）
```
ホーミング貫通弾： [ホーミング] + [貫通] → [敵に接触時] → [消える]
毒磁力弾：       [継続ダメージ] + [磁力効果] → [即座に] → [爆発する]
高威力時限弾：    [高威力] → [2秒後] → [爆発する]
```

## 🎨 弾丸の色分けシステム

PROPERTYノードにより弾丸の色が変わり、視覚的に機能を識別できます：
- 🩷 **ピンク** - ホーミング
- 🌊 **ダークターコイズ** - 貫通
- 🧡 **オレンジレッド** - 高威力
- 💚 **ライムグリーン** - 継続ダメージ
- 💜 **ブルーバイオレット** - 磁力効果
- 💛 **ゴールド** - シールド貫通
- 💙 **スチールブルー** - 時間遅延

## 🛠️ 技術仕様

### 技術スタック
- **エンジン**: Phaser.js 3.70.0
- **言語**: HTML5 + JavaScript (ES6+)
- **物理エンジン**: Arcade Physics
- **レンダラー**: WebGL/Canvas
- **スタイル**: CSS3
- **アセット**: PNG + プログラム生成スプライト

### ファイル構造
```
├── index.html          # メインゲームページ
├── simple-test.html    # シンプルテストページ
├── style.css           # ゲームスタイル
├── js/
│   ├── game.js         # メインゲームロジック（PNG対応）
│   ├── bullet.js       # 弾丸システム（属性システム搭載）
│   └── rpa.js          # RPAエディター（4ノードタイプ対応）
├── assets/
│   └── images/         # カスタムPNG画像
│       ├── Player.png  # プレイヤースプライト ✅
│       ├── Enemy1.png  # 敵スプライト ✅
│       ├── Ballet.png  # 弾丸スプライト ✅
│       └── Ballet2.png # 弾丸スプライト（代替）✅
└── docs/               # ドキュメント
```

## 🚀 開発・実行

### ローカルでの実行
1. このリポジトリをクローン
```bash
git clone https://github.com/Ma-saan/Bullet-Programming-Shooter.git
cd Bullet-Programming-Shooter
```

2. ローカルサーバーで実行（ブラウザのCORS制限のため）
```bash
# Python 3の場合
python -m http.server 8000

# Node.js/npmの場合
npx serve

# PHPの場合
php -S localhost:8000
```

3. ブラウザで `http://localhost:8000` にアクセス

### GitHub Pagesでプレイ
[ここからすぐにプレイ！](https://ma-saan.github.io/Bullet-Programming-Shooter/)

## 🎯 ゲーム進行

| ステージ | 難易度 | 必要な要素 |
|---------|--------|-----------|
| Stage 1-3 | 初級 | WHENとDOだけで解ける |
| Stage 4-8 | 中級 | IFを使った条件分岐が必要 |
| Stage 9+ | 上級 | PROPERTYノードと複雑な組み合わせ |

## 🎨 カスタムPNGスプライト

### 現在の実装状況
✅ **プレイヤースプライト** (`Player.png`) - 実装済み  
✅ **敵スプライト** (`Enemy1.png`) - 実装済み  
✅ **弾丸スプライト** (`Ballet.png`, `Ballet2.png`) - 実装済み  

### スプライト仕様
- プレイヤー: 16x16ピクセル
- 敵: 16x16ピクセル
- 弾丸: 8x8ピクセル
- 形式: PNG、透明背景推奨

### 自動フォールバックシステム
ゲームは以下の優先順序でスプライトを選択します：
1. **カスタムPNG画像** (最優先)
2. **生成スプライト** (フォールバック)

### 追加方法
詳細な手順は [`docs/ASSETS_GUIDE.md`](docs/ASSETS_GUIDE.md) を参照してください。

## 🎪 ビジュアルエフェクト

### 実装されたエフェクト
- **グローエフェクト** - プレイヤー、敵、弾丸
- **パーティクルシステム** - 爆発、トレイル効果
- **アニメーション** - 回転、スケール変更
- **カラーティント** - 弾丸の属性表示
- **マズルフラッシュ** - 射撃時の視覚フィードバック
- **ホーミング軌道** - 追尾弾の軌道描画
- **磁力エフェクト** - 敵を引き寄せる視覚効果

## 🔧 カスタマイズ

### ゲーム設定の変更
`js/game.js` の `gameConfig` オブジェクトで以下を調整できます：
- プレイヤー移動速度
- 敵の移動速度
- 敵のスポーン間隔

### 新しいノードの追加
`js/rpa.js` と `js/bullet.js` でノードタイプと動作を拡張できます。

## 🐛 トラブルシューティング

### よくある問題
- **ゲームが読み込まれない**: ブラウザのコンソールでエラーを確認
- **PNG画像が表示されない**: ファイルパスと形式を確認
- **RPAエディターが開かない**: JavaScript が有効になっているか確認
- **弾丸が動かない**: プログラムが正しく設定されているか確認
- **属性が適用されない**: PROPERTYノードがプログラムに含まれているか確認

### デバッグモード
`game.js` の物理デバッグモードを有効にする：
```javascript
physics: {
    arcade: {
        debug: true  // これをtrueに変更
    }
}
```

## 🤝 貢献

プルリクエストやイシューの報告を歓迎します！

1. このリポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/amazing-feature`)
3. 変更をコミット (`git commit -m 'Add amazing feature'`)
4. ブランチにプッシュ (`git push origin feature/amazing-feature`)
5. プルリクエストを作成

## 📜 ライセンス

このプロジェクトはMITライセンスの下で公開されています。詳細は `LICENSE` ファイルを参照してください。

## 🎉 今後の拡張アイデア

- [ ] 追加PROPERTY属性（らせん軌道、透明化など）
- [ ] マルチプレイヤーモード
- [ ] ステージエディター
- [ ] RPAプログラムの共有機能
- [ ] サウンドエフェクト
- [ ] アニメーションスプライトのサポート
- [ ] モバイル対応
- [ ] ボス戦システム
- [ ] アチーブメントシステム

## 🏆 プロジェクト達成状況

### ✅ 完了済み
- [x] コアゲームプレイ実装
- [x] RPAノードシステム（4種類）
- [x] PROPERTYノード実装（7属性）
- [x] カスタムPNGスプライト対応
- [x] ビジュアルエフェクト
- [x] パーティクルシステム
- [x] 衝突検出とフィードバック
- [x] レスポンシブデザイン
- [x] GitHub Pages対応
- [x] 包括的なドキュメンテーション

### 🚧 進行中
- [ ] バランス調整
- [ ] 追加ステージ
- [ ] サウンド実装

## 👨‍💻 開発者

**Ma-saan** - [@Ma-saan](https://github.com/Ma-saan)

---

⭐ このプロジェクトが気に入ったら、スターをつけていただけると嬉しいです！

🎮 **[今すぐプレイ！](https://ma-saan.github.io/Bullet-Programming-Shooter/)** 🚀